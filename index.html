<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÿ¢ŸÑÿ© ÿ≠ÿßÿ≥ÿ®ÿ© ÿßŸÑÿ£ÿµŸÜÿßŸÅ</title>
    
    <!-- === ÿßŸÑÿ≥ÿ∑ÿ±ÿßŸÜ ÿßŸÑÿ¨ÿØŸäÿØÿßŸÜ ŸÑÿ¨ÿπŸÑŸá ÿ™ÿ∑ÿ®ŸäŸÇ ŸàŸäÿ® === -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#005A9C">
    <!-- ======================================= -->

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #005A9C;
            --primary-hover: #003D6B;
            --secondary-color: #f0f2f5; 
            --accent-green: #28a745;
            --accent-green-hover: #218838;
            --accent-red: #dc3545;
            --accent-red-hover: #c82333;
            --text-color: #333;
            --border-color: #dee2e6;
            --card-bg: #ffffff;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            --border-radius: 12px;
        }

        body {
            font-family: 'Cairo', sans-serif;
            margin: 0;
            padding: 20px;
            direction: rtl;
            background-color: var(--secondary-color);
            color: var(--text-color);
            line-height: 1.7;
        }

        h1 {
            color: var(--primary-color);
            text-align: center;
            margin-bottom: 20px;
        }

        .search-container {
            display: none;
            margin-bottom: 20px;
        }

        #search-input-mobile {
            width: 100%;
            padding: 12px 20px;
            font-size: 1rem;
            border-radius: 25px;
            border: 1px solid var(--border-color);
            box-sizing: border-box;
        }
        
        #calculators-container {
            padding-bottom: 100px;
        }

        .calculator-container {
            border: 1px solid var(--border-color);
            padding: 20px;
            margin-bottom: 25px;
            border-radius: var(--border-radius);
            background-color: var(--card-bg);
            box-shadow: var(--shadow);
            transition: box-shadow 0.3s ease;
        }
        
        .calculator-container:hover {
            box-shadow: 0 6px 20px rgba(0,0,0,0.1);
        }

        .calculator-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 10px;
            margin-bottom: 15px;
        }
        
        .calculator-title-display {
             display: flex;
             align-items: center;
             gap: 10px;
        }

        .calculator-title {
            font-weight: 700;
            color: var(--primary-color);
            font-size: 1.3rem;
        }
        
        .calculator-date {
            font-size: 0.8rem;
            color: #6c757d;
        }
        
        .edit-title-btn {
            background: none; border: none; color: var(--primary-color);
            cursor: pointer; font-size: 1rem;
        }
        .edit-title-btn:hover { color: var(--primary-hover); }

        .calculator-title-input {
            width: 100%; padding: 10px; margin-bottom: 10px;
            box-sizing: border-box; border: 1px solid #ccc;
            border-radius: var(--border-radius); font-family: 'Cairo', sans-serif;
            font-size: 1.1rem;
        }

        .item {
            display: grid;
            grid-template-columns: 1fr 1fr 80px 80px 60px; 
            gap: 10px;
            align-items: center;
            margin-bottom: 10px;
            padding: 10px;
            background-color: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: var(--border-radius);
        }

        select, input[type="number"] {
            padding: 10px;
            border-radius: var(--border-radius);
            border: 1px solid var(--border-color);
            font-family: 'Cairo', sans-serif;
            font-size: 0.9rem;
            width: 100%;
            box-sizing: border-box;
        }

        button {
            padding: 10px; border-radius: var(--border-radius);
            cursor: pointer; color: white; border: none;
            font-family: 'Cairo', sans-serif; font-weight: 600;
            transition: all 0.2s ease;
        }
        button:hover { opacity: 0.85; }

        .item button { background-color: var(--accent-red); }

        .totals-section {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid var(--border-color);
        }
        .total, .shipping, .grand-total {
            display: flex; justify-content: space-between; align-items: center;
            margin-top: 10px; font-size: 1.1rem; font-weight: 600;
        }
        .grand-total {
            font-size: 1.4rem; color: var(--primary-color);
            border-top: 2px dashed var(--border-color);
            padding-top: 15px; margin-top: 15px;
        }
        
        .price, .shipping-cost, .grand-total-value { font-weight: 700; }

        .results-text-container {
            margin-top: 20px; padding: 15px;
            border: 1px solid var(--primary-color);
            background-color: #e8f0fe;
            border-radius: var(--border-radius);
            white-space: pre-wrap;
            font-family: 'Menlo', 'Consolas', monospace;
            text-align: right; line-height: 1.8;
            font-size: 1rem; font-weight: bold;
            -webkit-user-select: text; user-select: text;
        }
        .copy-actions { margin-top: 10px; display: flex; gap: 10px; }
        .copy-actions button { flex-grow: 1; }
        .copy-instruction { font-size: 0.9rem; color: #555; text-align: center; margin-top: 8px; }

        .fixed-controls {
            position: fixed; bottom: 15px; left: 50%;
            transform: translateX(-50%); display: flex;
            align-items: center; justify-content: center; gap: 10px;
            z-index: 1000; background-color: var(--card-bg);
            padding: 12px 20px; border-radius: 50px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.15); width: auto;
            max-width: 95%;
        }

        #search-input-desktop {
            width: 250px; border-radius: 20px;
            padding: 10px 15px; border: 1px solid var(--border-color);
        }
        .new-calculator-btn { background-color: var(--accent-green); }
        .json-btn { background-color: var(--primary-color); }

        #json-file-input { display: none; }
        .import-json-label {
            padding: 10px 20px; background-color: var(--primary-color);
            color: white; border-radius: var(--border-radius); cursor: pointer;
            font-weight: 600;
        }
        .calculator-counter {
            background-color: #e9ecef; color: #495057;
            padding: 10px 15px; border-radius: 20px; font-weight: 600;
        }
        
        @media (max-width: 768px) {
            body { padding: 10px 10px 100px 10px; }
            h1 { font-size: 1.5rem; }
            
            .search-container { display: block; }

            .item {
                grid-template-columns: 1fr;
                gap: 12px;
                padding: 15px;
            }

            select, input[type="number"], button {
                font-size: 1rem;
                padding: 12px;
            }
            .item-controls { display: flex; gap: 10px; align-items: center; }
            .item-controls input[type="number"] { width: 70px; flex-shrink: 0; }
            .item-controls .price { flex-grow: 1; text-align: center; }
            .item-controls button { font-size: 0.9rem; padding: 10px; }

            .fixed-controls {
                flex-direction: row; justify-content: space-around;
                width: 100%; max-width: 100%;
                bottom: 0; left: 0; right: 0;
                border-radius: 0;
                padding: 10px 5px;
                border-top: 1px solid var(--border-color);
                box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
            }
            #search-input-desktop, .calculator-counter { display: none; }
            .fixed-controls button, .fixed-controls .import-json-label {
                padding: 10px; font-size: 0.8rem;
                display: flex; flex-direction: column; align-items: center;
                gap: 2px;
                background: none; color: var(--primary-color);
            }
            .fixed-controls .new-calculator-btn { color: var(--accent-green); }
        }
    </style>
</head>
<body>
    <h1>ÿ¢ŸÑÿ© ÿ≠ÿßÿ≥ÿ®ÿ© ÿßŸÑÿ£ÿµŸÜÿßŸÅ</h1>
    <div class="search-container">
        <input type="text" id="search-input-mobile" placeholder="ÿßÿ®ÿ≠ÿ´ ŸÅŸä ÿπŸÜÿßŸàŸäŸÜ ÿßŸÑÿ¢ŸÑÿßÿ™ ÿßŸÑÿ≠ÿßÿ≥ÿ®ÿ©..." onkeyup="searchCalculators(this.value)">
    </div>
    <div id="calculators-container"></div>
    <div class="fixed-controls">
        <input type="text" id="search-input-desktop" placeholder="ÿßÿ®ÿ≠ÿ´..." onkeyup="searchCalculators(this.value)">
        <button class="new-calculator-btn" onclick="addNewCalculator()"><span>‚ûï</span><span>ÿ¨ÿØŸäÿØÿ©</span></button>
        <button class="json-btn" onclick="exportCalculatorsAsJSON()"><span>üíæ</span><span>ÿ≠ŸÅÿ∏</span></button>
        <label for="json-file-input" class="import-json-label"><span>üìÇ</span><span>ÿ™ÿ≠ŸÖŸäŸÑ</span></label>
        <input type="file" id="json-file-input" accept=".json" onchange="importCalculatorsFromJSON(event)">
        <div class="calculator-counter" id="calculator-counter"></div>
    </div>

    <script>
        // ÿßŸÑÿ£ÿµŸÜÿßŸÅ ŸàÿßŸÑÿ£ÿ≥ÿπÿßÿ± ŸàÿßŸÑŸÅÿ¶ÿßÿ™
        const prices = {
            "1- ŸÉŸäŸÑŸà ÿπÿ≥ŸÑ ŸÜŸàÿßÿ±Ÿá ÿßŸÑÿ®ÿ±ÿ≥ŸäŸÖ  ÿµÿßŸäŸÖ ": 180,"2- ŸÉŸäŸÑŸà ÿπÿ≥ŸÑ  ÿ®ÿ±ÿ≥ŸäŸÖ ÿ®ŸÑÿØŸâ   ": 140,
            "3- ŸÉŸäŸÑŸà ÿπÿ≥ŸÑ ÿ®ÿ±ÿ≥ŸäŸÖ ÿµÿ≠ÿ±ÿßŸàŸä ": 230,"4- ŸÉŸäŸÑŸà ÿπÿ≥ŸÑ ÿ≤ŸáŸàÿ± ÿßŸÑŸÖŸàÿßŸÑÿ≠": 230,"5- ŸÉŸäŸÑŸà ÿπÿ≥ŸÑ ÿ≤ŸáŸàÿ± ÿßŸÑÿ¥ŸÖÿ± ÿßŸÑÿ¨ÿ®ŸÑŸä": 250,
            "6- ŸÉŸäŸÑŸà ÿπÿ≥ŸÑ ÿßŸÑÿßÿ´ŸÑ  ": 250,"7- ŸÉŸäŸÑŸà ÿπÿ≥ŸÑ ÿ≤ŸáŸàÿ± ÿ≠ÿ®Ÿá ÿßŸÑÿ®ÿ±ŸÉŸá":220,"8- ŸÉŸäŸÑŸà ÿπÿ≥ŸÑ ÿ≤ŸáŸàÿ± ÿßŸÑÿ≤ÿπÿ™ÿ± ÿßŸÑÿ∑ÿ®ŸäŸá ÿßŸÑÿ¨ÿ®ŸÑŸä ÿßŸÑÿßŸàÿ±ÿ¨ÿßŸÜŸÉ":250,
            "9- ŸÉŸäŸÑŸà ÿπÿ≥ŸÑ ÿ≤ŸáŸàÿ± ÿßŸÑÿ®ÿ±ÿØŸÇŸàÿ¥ ÿßŸÑÿ∑ÿ®ŸäÿπŸä ÿµÿßŸäŸÖ ŸÜŸáÿßÿ¶ŸäÿßŸã":200,"10- ŸÉŸäŸÑŸà ÿπÿ≥ŸÑ ÿ£ÿπÿ¥ÿßÿ® ÿ¨ÿ®ŸÑŸäŸá ŸÖÿØŸäŸÜŸá ŸÖÿ±ÿ≥Ÿä ÿπŸÑŸÖ": 300,
            "11- ŸÉŸäŸÑŸà ÿπÿ≥ŸÑ ÿ≥ÿØÿ± ÿµ ÿ≥ÿØÿ±": 300,"12- ŸÉŸäŸÑŸà ÿπÿ≥ŸÑ ÿ≤ŸáŸàÿ± ÿßŸÑÿ£ÿπÿ¥ÿßÿ® ÿßŸÑÿ∑ÿ®ŸäŸá" : 250,"13- ŸÉŸäŸÑŸà ÿπÿ≥ŸÑ ÿ£ÿπÿ¥ÿßÿ® ÿ¨ÿ®ŸÑŸäŸá ÿ≥ÿßŸÜÿ™ ŸÉÿßÿ™ÿ±ŸäŸÜ" : 400,
            "1- ŸÜÿµŸÅ ŸÉŸäŸÑŸà ÿπÿ≥ŸÑ ŸÜŸàÿßÿ±Ÿá ÿßŸÑÿ®ÿ±ÿ≥ŸäŸÖ  ÿµÿßŸäŸÖ ": 90,"2- ŸÜÿµŸÅ ŸÉŸäŸÑŸà ÿπÿ≥ŸÑ  ÿ®ÿ±ÿ≥ŸäŸÖ ÿ®ŸÑÿØŸâ": 70,"3-ŸÜÿµŸÅ ÿπÿ≥ŸÑ ÿ®ÿ±ÿ≥ŸäŸÖ ÿµÿ≠ÿ±ÿßŸàŸä ":115 ,
            "4-ŸÜÿµŸÅ ÿπÿ≥ŸÑ ÿ≤ŸáŸàÿ± ÿßŸÑŸÖŸàÿßŸÑÿ≠":115  ,"5-ŸÜÿµŸÅ ÿπÿ≥ŸÑ ÿ≤ŸáŸàÿ± ÿßŸÑÿ¥ŸÖÿ± ÿßŸÑÿ¨ÿ®ŸÑŸä":125,"6-ŸÜÿµŸÅ ÿπÿ≥ŸÑ  ÿßŸÑÿßÿ´ŸÑ ": 125 ,"7-ŸÜÿµŸÅ ÿπÿ≥ŸÑ ÿ≤ŸáŸàÿ± ÿ≠ÿ®Ÿá ÿßŸÑÿ®ÿ±ŸÉŸá": 110,
            "8-ŸÜÿµŸÅ ÿπÿ≥ŸÑ ÿ≤ŸáŸàÿ± ÿßŸÑÿ≤ÿπÿ™ÿ± ÿßŸÑÿ∑ÿ®ŸäŸá ÿßŸÑÿ¨ÿ®ŸÑŸä ÿßŸÑÿßŸàÿ±ÿ¨ÿßŸÜŸÉ":125  ,"9-ŸÜÿµŸÅ ÿπÿ≥ŸÑ ÿ≤ŸáŸàÿ± ÿßŸÑÿ®ÿ±ÿØŸÇŸàÿ¥ ÿßŸÑÿ∑ÿ®ŸäÿπŸä ÿµÿßŸäŸÖ ŸÜŸáÿßÿ¶ŸäÿßŸã":100 ,
            "10-ŸÜÿµŸÅ ÿπÿ≥ŸÑ ÿ£ÿπÿ¥ÿßÿ® ÿ¨ÿ®ŸÑŸäŸá ŸÖÿØŸäŸÜŸá ŸÖÿ±ÿ≥Ÿä ÿπŸÑŸÖ":150  ,"11-ŸÜÿµŸÅ ÿπÿ≥ŸÑ ÿ≥ÿØÿ± ÿµÿ≠ÿ±ÿßŸàŸä": 150 ,"12-ŸÜÿµŸÅ ÿπÿ≥ŸÑ ÿ≤ŸáŸàÿ± ÿßŸÑÿ£ÿπÿ¥ÿßÿ® ÿßŸÑÿ∑ÿ®ŸäŸá": 125 ,
            "13- ŸÜÿµŸÅ ÿπÿ≥ŸÑ ÿ£ÿπÿ¥ÿßÿ® ÿ¨ÿ®ŸÑŸäŸá ÿ≥ÿßŸÜÿ™ ŸÉÿßÿ™ÿ±ŸäŸÜ":200,
            "1- ŸÉŸäŸÑŸà ÿ≥ÿØÿ± ÿ¨ÿ®ŸÑŸä ŸÅÿµŸäŸÑÿ© ÿßŸÑÿ≠ÿ∂ÿ±ŸÖŸä ÿßŸÑŸÖŸÑŸÉŸä":700 ,"2- ŸÉŸäŸÑŸà ÿ≥ÿØÿ± ÿ¨ÿ®ŸÑŸä ŸÅÿµŸäŸÑŸá ÿßŸÑÿ≠ÿ∂ÿ±ŸÖŸä":550 ,"3- ŸÉŸäŸÑŸà ÿ≥ÿØÿ± ÿ¨ÿ®ŸÑŸä ŸÉÿ¥ŸÖŸäÿ±Ÿä ŸÖŸÑŸÉŸä":1800 ,
            "4- ŸÉŸäŸÑŸà ÿ≥ÿØÿ± ÿ¨ÿ®ŸÑŸä ŸäŸÖŸÜŸä ÿπÿµŸäŸÖŸä ŸÖŸÑŸÉŸä ":2800 ,"5- ŸÉŸäŸÑŸà ÿ≥ÿØÿ± ÿ¨ÿ®ŸÑŸä ŸÅÿµŸäŸÑÿ© ÿßŸÑÿØŸàÿπŸÜŸä ÿßŸÑŸÖŸÑŸÉŸä":1200 ,
            "6- ŸÉŸäŸÑŸà ÿ≥ÿØÿ± ÿßŸÑÿπÿßŸÇŸàŸÑ ÿßŸÑÿ¨ÿ®ŸÑŸä ÿßŸÑŸÜÿßÿØÿ± ÿßŸÑÿµÿßŸäŸÖ ":500 ,"7- ŸÉŸäŸÑŸà ÿ≥ÿØÿ± ÿßŸÑÿ≥ŸÖÿ±Ÿá ÿßŸÑŸäŸÖŸÜŸä ÿßŸÑŸÖŸÑŸÉŸä":1300 ,"8- ŸÉŸäŸÑŸà ÿØŸàÿπŸÜŸâ ŸäŸÖŸÜŸâ":2800 ,
            "1-ŸÜÿµŸÅ ÿ≥ÿØÿ± ÿ¨ÿ®ŸÑŸä ŸÅÿµŸäŸÑÿ© ÿßŸÑÿ≠ÿ∂ÿ±ŸÖŸä ÿßŸÑŸÖŸÑŸÉŸä":400 ,"2-ŸÜÿµŸÅ ÿ≥ÿØÿ± ÿ¨ÿ®ŸÑŸä ŸÅÿµŸäŸÑŸá ÿßŸÑÿ≠ÿ∂ÿ±ŸÖŸä":300 ,"3-ŸÜÿµŸÅ ÿ≥ÿØÿ± ÿ¨ÿ®ŸÑŸä ŸÉÿ¥ŸÖŸäÿ±Ÿä ŸÖŸÑŸÉŸä": 950,
            "4-ŸÜÿµŸÅ ÿ≥ÿØÿ± ÿ¨ÿ®ŸÑŸä ŸäŸÖŸÜŸä ÿπÿµŸäŸÖŸä ŸÖŸÑŸÉŸä ":1450 ,"5-ŸÜÿµŸÅ ÿ≥ÿØÿ± ÿ¨ÿ®ŸÑŸä ŸÅÿµŸäŸÑÿ© ÿßŸÑÿØŸàÿπŸÜŸä ÿßŸÑŸÖŸÑŸÉŸä":650 ,"6-ŸÜÿµŸÅ ÿπÿ≥ŸÑ ÿßŸÑÿπÿßŸÇŸàŸÑ ÿßŸÑÿ¨ÿ®ŸÑŸä ÿßŸÑŸÜÿßÿØÿ± ÿßŸÑÿµÿßŸäŸÖ ":300 ,"7-ŸÜÿµŸÅ ÿπÿ≥ŸÑ ÿßŸÑÿ≥ŸÖÿ±Ÿá ÿßŸÑŸäŸÖŸÜŸä ÿßŸÑŸÖŸÑŸÉŸä":700 ,"8- ŸÜÿµŸÅ ŸÉŸäŸÑŸà ÿØŸàÿπŸÜŸâ ŸäŸÖŸÜŸâ":1450 ,"1- ŸÑÿ™ÿ± ÿ≤Ÿäÿ™ ÿ≤Ÿäÿ™ŸàŸÜ ÿßŸÉÿ≥ÿ™ÿ±ÿß ŸÅŸäÿ±ÿ¨ŸÜ ": 600 ,
            "1- ŸÜÿµŸÅ ŸÑÿ™ÿ± ÿ≤Ÿäÿ™ ÿ≤Ÿäÿ™ŸàŸÜ ÿßŸÉÿ≥ÿ™ÿ±ÿß ŸÅŸäÿ±ÿ¨ŸÜ ":310 ,"2- ÿ≤Ÿäÿ™ ÿ¨Ÿàÿ≤ ÿßŸÑŸáŸÜÿØ ÿßŸÑÿπÿ∂ŸàŸä ÿßŸÑÿ∫ÿ∞ÿßÿ¶Ÿä ÿ®ÿ±ÿ∑ŸÖÿßŸÜ ÿ≠ŸàÿßŸÑŸä 300 ÿ¨ÿ±ÿßŸÖ" :175 ,
            "3- ÿ≤Ÿäÿ™ ÿ¨Ÿàÿ≤ ÿßŸÑŸáŸÜÿØ ÿßŸÑÿπÿ∂ŸàŸä ÿßŸÑÿ∫ÿ∞ÿßÿ¶Ÿä ÿ®ÿ±ÿ∑ŸÖÿßŸÜ  140 " :140 ,
            "1- ŸÑÿ™ÿ± ÿÆŸÑ ÿπŸÜÿ® ÿßÿ≠ŸÖÿ± ÿ®ŸÑÿ≥ŸÖŸÉ ÿßŸàÿ±ÿ¨ÿßŸÜŸÉ ÿπÿ∂ŸàŸä ÿ∫Ÿäÿ± ŸÖÿ®ÿ≥ÿ™ÿ±": 360,
            "2- ŸÑÿ™ÿ± ÿÆŸÑ ÿßŸÑÿ™ŸÅÿßÿ≠   ÿßŸÑÿπÿ∂ŸàŸä ÿ∫Ÿäÿ± ÿßŸÑŸÖÿ®ÿ≥ÿ™ÿ±" : 260,"3- ŸÑÿ™ÿ± ÿÆŸÑ ÿ±ŸÖÿßŸÜ   " : 350,"3- ŸÜÿµŸÅ ŸÑÿ™ÿ± ÿÆŸÑ ÿ±ŸÖÿßŸÜ   " : 185,
            "1- ŸÜÿµŸÅ ŸÑÿ™ÿ± ÿÆŸÑ ÿπŸÜÿ® ÿßÿ≠ŸÖÿ± ÿ®ŸÑÿ≥ŸÖŸÉ ÿßŸàÿ±ÿ¨ÿßŸÜŸÉ ÿπÿ∂ŸàŸä ÿ∫Ÿäÿ± ŸÖÿ®ÿ≥ÿ™ÿ±": 190,"2- ŸÜÿµŸÅ ŸÑÿ™ÿ± ÿÆŸÑ ÿßŸÑÿ™ŸÅÿßÿ≠ ÿßŸÑÿπÿ∂ŸàŸä   ÿ∫Ÿäÿ± ÿßŸÑŸÖÿ®ÿ≥ÿ™ÿ±" : 140,
            "1-ŸÉŸäŸÑŸà ÿÆŸÑÿ∑ÿ© Ÿáÿ±ŸÉŸÑŸäÿ≤ ÿÆŸÑÿ∑ÿ© ÿßŸÑÿ®ÿ¥Ÿàÿßÿ™ ÿ±ŸÇŸÖ1 ":2200,"1-ŸÜÿµŸÅ ŸÉŸäŸÑŸà ÿÆŸÑÿ∑ÿ© Ÿáÿ±ŸÉŸÑŸäÿ≤ ÿÆŸÑÿ∑ÿ© ÿßŸÑÿ®ÿ¥Ÿàÿßÿ™ ÿ±ŸÇŸÖ1 ":1150,
            "2-ŸÉŸäŸÑŸà ÿÆŸÑÿ∑ÿ© ŸÖŸäŸÜŸâ Ÿáÿ±ŸÉŸÑŸäÿ≤ ÿÆŸÑÿ∑ÿ© ÿßŸÑÿ®ÿ¥Ÿàÿßÿ™ ÿ±ŸÇŸÖ2 ":1400,"2-ŸÜÿµŸÅ ŸÉŸäŸÑŸà ÿÆŸÑÿ∑ÿ© ŸÖŸäŸÜŸâ Ÿáÿ±ŸÉŸÑŸäÿ≤ ÿÆŸÑÿ∑ÿ© ÿßŸÑÿ®ÿ¥Ÿàÿßÿ™ ÿ±ŸÇŸÖ2 ":750,
            "3-ŸÉŸäŸÑŸà ÿÆŸÑÿ∑ÿ© ŸÖÿ™ÿ≤Ÿàÿ¨ŸäŸÜ ŸÖÿ±ŸÉÿ≤ÿ© ÿÆŸÑÿ∑Ÿá ÿßŸÑÿ®ÿßŸàÿ± ŸàÿßŸÑŸÖŸÜÿßÿπŸá ÿ≥ÿØÿ± ÿ≠ÿ∂ÿ±ŸÖŸâ ÿ±ŸÇŸÖ3":1000,
            "3-ŸÜÿµŸÅ ŸÉŸäŸÑŸà ÿÆŸÑÿ∑ÿ© ŸÖÿ™ÿ≤Ÿàÿ¨ŸäŸÜ ŸÖÿ±ŸÉÿ≤ÿ© ÿÆŸÑÿ∑Ÿá ÿßŸÑÿ®ÿßŸàÿ± ŸàÿßŸÑŸÖŸÜÿßÿπŸá ÿ≥ÿØÿ± ÿ≠ÿ∂ÿ±ŸÖŸâ ÿ±ŸÇŸÖ3":550,
            "4-ŸÉŸäŸÑŸà ÿÆŸÑÿ∑ÿ© ÿßŸÑŸÖŸàÿ∏ŸÅŸäŸÜ ŸàÿßŸÑŸÉÿßÿØÿ≠ŸäŸÜ  ÿ≥ÿØÿ± ÿ≠ÿ∂ÿ±ŸÖŸâ ÿ±ŸÇŸÖ 4":750,"4-ŸÜÿµŸÅ ŸÉŸäŸÑŸà ÿÆŸÑÿ∑ÿ© ÿßŸÑŸÖŸàÿ∏ŸÅŸäŸÜ ŸàÿßŸÑŸÉÿßÿØÿ≠ŸäŸÜ  ÿ≥ÿØÿ± ÿ≠ÿ∂ÿ±ŸÖŸâ ÿ±ŸÇŸÖ 4":400,
            "5-ŸÉŸäŸÑŸà ÿÆŸÑÿ∑ÿ© ŸÖÿ™ÿ≤Ÿàÿ¨ŸäŸÜ ÿπÿßÿØŸâ ÿπÿ≥ŸÑ ÿ®ÿ±ÿ≥ŸäŸÖ ÿ±ŸÇŸÖ5": 500,
            "5-ŸÜÿµŸÅ ŸÉŸäŸÑŸà ÿÆŸÑÿ∑ÿ© ŸÖÿ™ÿ≤Ÿàÿ¨ŸäŸÜ ÿπÿßÿØŸâ ÿπÿ≥ŸÑ ÿ®ÿ±ÿ≥ŸäŸÖ ÿ±ŸÇŸÖ5": 250,
            "6-ŸÉŸäŸÑŸà ÿÆŸÑÿ∑ÿ© ŸÖÿ™ÿ≤Ÿàÿ¨ŸäŸÜ ŸÖÿ±ŸÉÿ≤ÿ© ÿπÿ≥ŸÑ ÿ®ÿ±ÿ≥ŸäŸÖ ÿ±ŸÇŸÖ6": 550,
            "6-ŸÜÿµŸÅ ŸÉŸäŸÑŸà ÿÆŸÑÿ∑ÿ© ŸÖÿ™ÿ≤Ÿàÿ¨ŸäŸÜ ŸÖÿ±ŸÉÿ≤ÿ© ÿπÿ≥ŸÑ ÿ®ÿ±ÿ≥ŸäŸÖ ÿ±ŸÇŸÖ6": 275,
            "7-ŸÉŸäŸÑŸà ÿÆŸÑÿ∑ÿ© ŸÖÿ™ÿ≤Ÿàÿ¨ŸäŸÜ ŸÖÿ±ŸÉÿ≤ÿ©ÿ¨ÿØÿß ÿπÿ≥ŸÑ ÿ®ÿ±ÿ≥ŸäŸÖ ÿ±ŸÇŸÖ7": 600,
            "7-ŸÜÿµŸÅ ŸÉŸäŸÑŸà ÿÆŸÑÿ∑ÿ© ŸÖÿ™ÿ≤Ÿàÿ¨ŸäŸÜ ŸÖÿ±ŸÉÿ≤ÿ©ÿ¨ÿØÿß ÿπÿ≥ŸÑ ÿ®ÿ±ÿ≥ŸäŸÖ ÿ±ŸÇŸÖ7": 300,
            "8-ŸÉŸäŸÑŸà ÿÆŸÑÿ∑ÿ© ŸÖŸÜÿßÿπÿ© ÿßŸÑÿßÿ∑ŸÅÿßŸÑ ÿ≠ÿ∂ÿ±ŸÖŸâ ŸÖŸÑŸÉŸâ ÿ±ŸÇŸÖ8":1000,
            "8-ŸÜÿµŸÅ ŸÉŸäŸÑŸà ÿÆŸÑÿ∑ÿ© ŸÖŸÜÿßÿπÿ© ÿßŸÑÿßÿ∑ŸÅÿßŸÑ ÿ≠ÿ∂ÿ±ŸÖŸâ ŸÖŸÑŸÉŸâ ÿ±ŸÇŸÖ8":550,
            "9-ŸÉŸäŸÑŸà ÿÆŸÑÿ∑ÿ© ŸÖŸÜÿßÿπÿ© ÿßŸÑÿßÿ∑ŸÅÿßŸÑ ÿ®ÿ±ÿ≥ŸäŸÖ ÿµÿßŸäŸÖ ÿπÿßÿØŸâ ÿ±ŸÇŸÖ9":400,
            "9-ŸÜÿµŸÅ ŸÉŸäŸÑŸà ÿÆŸÑÿ∑ÿ© ŸÖŸÜÿßÿπÿ© ÿßŸÑÿßÿ∑ŸÅÿßŸÑ ÿ®ÿ±ÿ≥ŸäŸÖ ÿµÿßŸäŸÖ ÿπÿßÿØŸâ ÿ±ŸÇŸÖ9":200,
            "10-ŸÉŸäŸÑŸà ÿÆŸÑÿ∑ÿ© ŸÖŸÜÿßÿπÿ© ÿßŸÑÿßÿ∑ŸÅÿßŸÑ ÿ®ÿ±ÿ≥ŸäŸÖ ÿµÿßŸäŸÖ ŸÖÿ±ŸÉÿ≤ÿ© ÿ±ŸÇŸÖ10":500,
            "10-ŸÜÿµŸÅ ŸÉŸäŸÑŸà ÿÆŸÑÿ∑ÿ© ŸÖŸÜÿßÿπÿ© ÿßŸÑÿßÿ∑ŸÅÿßŸÑ ÿ®ÿ±ÿ≥ŸäŸÖ ÿµÿßŸäŸÖ ŸÖÿ±ŸÉÿ≤ÿ© ÿ±ŸÇŸÖ10":250,
            "11-ŸÉŸäŸÑŸà ÿÆŸÑÿ∑ÿ© ŸÖŸÜÿßÿπÿ© ÿßŸÑÿßÿ∑ŸÅÿßŸÑ ÿ®ÿ±ÿ≥ŸäŸÖ ÿµÿßŸäŸÖ ŸÖÿ±ŸÉÿ≤ÿ© ÿ¨ÿØÿß ÿ±ŸÇŸÖ11":600,
            "11-ŸÜÿµŸÅ ŸÉŸäŸÑŸà ÿÆŸÑÿ∑ÿ© ŸÖŸÜÿßÿπÿ© ÿßŸÑÿßÿ∑ŸÅÿßŸÑ ÿ®ÿ±ÿ≥ŸäŸÖ ÿµÿßŸäŸÖ ŸÖÿ±ŸÉÿ≤ÿ© ÿ¨ÿØÿß ÿ±ŸÇŸÖ11":300,
            "1- ŸÉŸäŸÑŸà ÿπÿ±ÿ∂ ÿπÿ≥ŸÑ ÿ®ÿ±ÿ≥ŸäŸÖ ÿµÿ≠ÿ±ÿßŸàŸä ": 210,
            "1- ŸÉŸäŸÑŸà ÿπÿ±ÿ∂ ÿπÿ≥ŸÑ ÿßŸÑÿ¥ŸÖÿ± ÿßŸÑÿ¨ÿ®ŸÑŸâ ":227.5,"3-  ŸÉŸäŸÑŸà ÿπÿ±ÿ∂ ÿπÿ≥ŸÑ ÿßÿπÿ¥ÿßÿ® ÿ∑ÿ®Ÿäÿ©":230,"ŸÉŸäŸÑŸà ÿπÿ±ÿ∂ ÿØŸàÿπŸÜŸâ ŸÖŸÑŸÉŸâ ":1050,
            "ŸÉŸäŸÑŸà ÿπÿ±ÿ∂ ÿØŸàÿπŸÜŸâ ŸÖŸÑŸÉŸâ ŸÖÿØÿπŸÖ ":1000,"ŸÉŸäŸÑŸà ÿ¥ŸÖÿπ ÿ¥ŸÖÿ± ": 300,"ŸÜÿµŸÅ ŸÉŸäŸÑŸà ÿ¥ŸÖÿπ ŸÖŸàÿßŸÑÿ≠": 150,
            "1- ÿ¨ÿ±ÿßŸÖ ÿ≠ÿ®Ÿàÿ® ŸÑŸÇÿßÿ≠ ": 1,"2- ÿ¨ÿ±ÿßŸÖ ÿ®ÿ±Ÿàÿ®ŸÑŸäÿ≤ ": 7,"3- ÿ¨ÿ±ÿßŸÖ ÿ∫ÿ∞ÿßÿ° ŸÖŸÑŸÉÿßÿ™":20,"3- ÿ¨ÿ±ÿßŸÖ ÿ∑ŸÑÿπ ŸÜÿÆŸÑ":1,"    ":0
        };
        const categories = {
            "1":["1- ŸÉŸäŸÑŸà ÿπÿ≥ŸÑ ŸÜŸàÿßÿ±Ÿá ÿßŸÑÿ®ÿ±ÿ≥ŸäŸÖ  ÿµÿßŸäŸÖ ","2- ŸÉŸäŸÑŸà ÿπÿ≥ŸÑ  ÿ®ÿ±ÿ≥ŸäŸÖ ÿ®ŸÑÿØŸâ   ","3- ŸÉŸäŸÑŸà ÿπÿ≥ŸÑ ÿ®ÿ±ÿ≥ŸäŸÖ ÿµÿ≠ÿ±ÿßŸàŸä ","4- ŸÉŸäŸÑŸà ÿπÿ≥ŸÑ ÿ≤ŸáŸàÿ± ÿßŸÑŸÖŸàÿßŸÑÿ≠","5- ŸÉŸäŸÑŸà ÿπÿ≥ŸÑ ÿ≤ŸáŸàÿ± ÿßŸÑÿ¥ŸÖÿ± ÿßŸÑÿ¨ÿ®ŸÑŸä","6- ŸÉŸäŸÑŸà ÿπÿ≥ŸÑ ÿßŸÑÿßÿ´ŸÑ  ","7- ŸÉŸäŸÑŸà ÿπÿ≥ŸÑ ÿ≤ŸáŸàÿ± ÿ≠ÿ®Ÿá ÿßŸÑÿ®ÿ±ŸÉŸá","8- ŸÉŸäŸÑŸà ÿπÿ≥ŸÑ ÿ≤ŸáŸàÿ± ÿßŸÑÿ≤ÿπÿ™ÿ± ÿßŸÑÿ∑ÿ®ŸäŸá ÿßŸÑÿ¨ÿ®ŸÑŸä ÿßŸÑÿßŸàÿ±ÿ¨ÿßŸÜŸÉ","9- ŸÉŸäŸÑŸà ÿπÿ≥ŸÑ ÿ≤ŸáŸàÿ± ÿßŸÑÿ®ÿ±ÿØŸÇŸàÿ¥ ÿßŸÑÿ∑ÿ®ŸäÿπŸä ÿµÿßŸäŸÖ ŸÜŸáÿßÿ¶ŸäÿßŸã","10- ŸÉŸäŸÑŸà ÿπÿ≥ŸÑ ÿ£ÿπÿ¥ÿßÿ® ÿ¨ÿ®ŸÑŸäŸá ŸÖÿØŸäŸÜŸá ŸÖÿ±ÿ≥Ÿä ÿπŸÑŸÖ","11- ŸÉŸäŸÑŸà ÿπÿ≥ŸÑ ÿ≥ÿØÿ± ÿµ ÿ≥ÿØÿ±","12- ŸÉŸäŸÑŸà ÿπÿ≥ŸÑ ÿ≤ŸáŸàÿ± ÿßŸÑÿ£ÿπÿ¥ÿßÿ® ÿßŸÑÿ∑ÿ®ŸäŸá","13- ŸÉŸäŸÑŸà ÿπÿ≥ŸÑ ÿ£ÿπÿ¥ÿßÿ® ÿ¨ÿ®ŸÑŸäŸá ÿ≥ÿßŸÜÿ™ ŸÉÿßÿ™ÿ±ŸäŸÜ"],
            "2":["1- ŸÜÿµŸÅ ŸÉŸäŸÑŸà ÿπÿ≥ŸÑ ŸÜŸàÿßÿ±Ÿá ÿßŸÑÿ®ÿ±ÿ≥ŸäŸÖ  ÿµÿßŸäŸÖ ","2- ŸÜÿµŸÅ ŸÉŸäŸÑŸà ÿπÿ≥ŸÑ  ÿ®ÿ±ÿ≥ŸäŸÖ ÿ®ŸÑÿØŸâ","3-ŸÜÿµŸÅ ÿπÿ≥ŸÑ ÿ®ÿ±ÿ≥ŸäŸÖ ÿµÿ≠ÿ±ÿßŸàŸä ","4-ŸÜÿµŸÅ ÿπÿ≥ŸÑ ÿ≤ŸáŸàÿ± ÿßŸÑŸÖŸàÿßŸÑÿ≠","5-ŸÜÿµŸÅ ÿπÿ≥ŸÑ ÿ≤ŸáŸàÿ± ÿßŸÑÿ¥ŸÖÿ± ÿßŸÑÿ¨ÿ®ŸÑŸä","6-ŸÜÿµŸÅ ÿπÿ≥ŸÑ  ÿßŸÑÿßÿ´ŸÑ ","7-ŸÜÿµŸÅ ÿπÿ≥ŸÑ ÿ≤ŸáŸàÿ± ÿ≠ÿ®Ÿá ÿßŸÑÿ®ÿ±ŸÉŸá","8-ŸÜÿµŸÅ ÿπÿ≥ŸÑ ÿ≤ŸáŸàÿ± ÿßŸÑÿ≤ÿπÿ™ÿ± ÿßŸÑÿ∑ÿ®ŸäŸá ÿßŸÑÿ¨ÿ®ŸÑŸä ÿßŸÑÿßŸàÿ±ÿ¨ÿßŸÜŸÉ","9-ŸÜÿµŸÅ ÿπÿ≥ŸÑ ÿ≤ŸáŸàÿ± ÿßŸÑÿ®ÿ±ÿØŸÇŸàÿ¥ ÿßŸÑÿ∑ÿ®ŸäÿπŸä ÿµÿßŸäŸÖ ŸÜŸáÿßÿ¶ŸäÿßŸã","10-ŸÜÿµŸÅ ÿπÿ≥ŸÑ ÿ£ÿπÿ¥ÿßÿ® ÿ¨ÿ®ŸÑŸäŸá ŸÖÿØŸäŸÜŸá ŸÖÿ±ÿ≥Ÿä ÿπŸÑŸÖ","11-ŸÜÿµŸÅ ÿπÿ≥ŸÑ ÿ≥ÿØÿ± ÿµÿ≠ÿ±ÿßŸàŸä","12-ŸÜÿµŸÅ ÿπÿ≥ŸÑ ÿ≤ŸáŸàÿ± ÿßŸÑÿ£ÿπÿ¥ÿßÿ® ÿßŸÑÿ∑ÿ®ŸäŸá","13- ŸÜÿµŸÅ ÿπÿ≥ŸÑ ÿ£ÿπÿ¥ÿßÿ® ÿ¨ÿ®ŸÑŸäŸá ÿ≥ÿßŸÜÿ™ ŸÉÿßÿ™ÿ±ŸäŸÜ"],
            "3":["1- ŸÉŸäŸÑŸà ÿ≥ÿØÿ± ÿ¨ÿ®ŸÑŸä ŸÅÿµŸäŸÑÿ© ÿßŸÑÿ≠ÿ∂ÿ±ŸÖŸä ÿßŸÑŸÖŸÑŸÉŸä","2- ŸÉŸäŸÑŸà ÿ≥ÿØÿ± ÿ¨ÿ®ŸÑŸä ŸÅÿµŸäŸÑŸá ÿßŸÑÿ≠ÿ∂ÿ±ŸÖŸä","3- ŸÉŸäŸÑŸà ÿ≥ÿØÿ± ÿ¨ÿ®ŸÑŸä ŸÉÿ¥ŸÖŸäÿ±Ÿä ŸÖŸÑŸÉŸä","4- ŸÉŸäŸÑŸà ÿ≥ÿØÿ± ÿ¨ÿ®ŸÑŸä ŸäŸÖŸÜŸä ÿπÿµŸäŸÖŸä ŸÖŸÑŸÉŸä ","5- ŸÉŸäŸÑŸà ÿ≥ÿØÿ± ÿ¨ÿ®ŸÑŸä ŸÅÿµŸäŸÑÿ© ÿßŸÑÿØŸàÿπŸÜŸä ÿßŸÑŸÖŸÑŸÉŸä","6- ŸÉŸäŸÑŸà ÿ≥ÿØÿ± ÿßŸÑÿπÿßŸÇŸàŸÑ ÿßŸÑÿ¨ÿ®ŸÑŸä ÿßŸÑŸÜÿßÿØÿ± ÿßŸÑÿµÿßŸäŸÖ ","7- ŸÉŸäŸÑŸà ÿ≥ÿØÿ± ÿßŸÑÿ≥ŸÖÿ±Ÿá ÿßŸÑŸäŸÖŸÜŸä ÿßŸÑŸÖŸÑŸÉŸä","8- ŸÉŸäŸÑŸà ÿØŸàÿπŸÜŸâ ŸäŸÖŸÜŸâ"],
            "4":["1-ŸÜÿµŸÅ ÿ≥ÿØÿ± ÿ¨ÿ®ŸÑŸä ŸÅÿµŸäŸÑÿ© ÿßŸÑÿ≠ÿ∂ÿ±ŸÖŸä ÿßŸÑŸÖŸÑŸÉŸä","2-ŸÜÿµŸÅ ÿ≥ÿØÿ± ÿ¨ÿ®ŸÑŸä ŸÅÿµŸäŸÑŸá ÿßŸÑÿ≠ÿ∂ÿ±ŸÖŸä","3-ŸÜÿµŸÅ ÿ≥ÿØÿ± ÿ¨ÿ®ŸÑŸä ŸÉÿ¥ŸÖŸäÿ±Ÿä ŸÖŸÑŸÉŸä","4-ŸÜÿµŸÅ ÿ≥ÿØÿ± ÿ¨ÿ®ŸÑŸä ŸäŸÖŸÜŸä ÿπÿµŸäŸÖŸä ŸÖŸÑŸÉŸä ","5-ŸÜÿµŸÅ ÿ≥ÿØÿ± ÿ¨ÿ®ŸÑŸä ŸÅÿµŸäŸÑÿ© ÿßŸÑÿØŸàÿπŸÜŸä ÿßŸÑŸÖŸÑŸÉŸä","6-ŸÜÿµŸÅ ÿπÿ≥ŸÑ ÿßŸÑÿπÿßŸÇŸàŸÑ ÿßŸÑÿ¨ÿ®ŸÑŸä ÿßŸÑŸÜÿßÿØÿ± ÿßŸÑÿµÿßŸäŸÖ ","7-ŸÜÿµŸÅ ÿπÿ≥ŸÑ ÿßŸÑÿ≥ŸÖÿ±Ÿá ÿßŸÑŸäŸÖŸÜŸä ÿßŸÑŸÖŸÑŸÉŸä","8- ŸÜÿµŸÅ ŸÉŸäŸÑŸà ÿØŸàÿπŸÜŸâ ŸäŸÖŸÜŸâ"],
            "5":["1- ŸÑÿ™ÿ± ÿ≤Ÿäÿ™ ÿ≤Ÿäÿ™ŸàŸÜ ÿßŸÉÿ≥ÿ™ÿ±ÿß ŸÅŸäÿ±ÿ¨ŸÜ "],
            "6":["1- ŸÜÿµŸÅ ŸÑÿ™ÿ± ÿ≤Ÿäÿ™ ÿ≤Ÿäÿ™ŸàŸÜ ÿßŸÉÿ≥ÿ™ÿ±ÿß ŸÅŸäÿ±ÿ¨ŸÜ ","2- ÿ≤Ÿäÿ™ ÿ¨Ÿàÿ≤ ÿßŸÑŸáŸÜÿØ ÿßŸÑÿπÿ∂ŸàŸä ÿßŸÑÿ∫ÿ∞ÿßÿ¶Ÿä ÿ®ÿ±ÿ∑ŸÖÿßŸÜ ÿ≠ŸàÿßŸÑŸä 300 ÿ¨ÿ±ÿßŸÖ","3- ÿ≤Ÿäÿ™ ÿ¨Ÿàÿ≤ ÿßŸÑŸáŸÜÿØ ÿßŸÑÿπÿ∂ŸàŸä ÿßŸÑÿ∫ÿ∞ÿßÿ¶Ÿä ÿ®ÿ±ÿ∑ŸÖÿßŸÜ  140 "],
            "7":["1- ŸÑÿ™ÿ± ÿÆŸÑ ÿπŸÜÿ® ÿßÿ≠ŸÖÿ± ÿ®ŸÑÿ≥ŸÖŸÉ ÿßŸàÿ±ÿ¨ÿßŸÜŸÉ ÿπÿ∂ŸàŸä ÿ∫Ÿäÿ± ŸÖÿ®ÿ≥ÿ™ÿ±","2- ŸÑÿ™ÿ± ÿÆŸÑ ÿßŸÑÿ™ŸÅÿßÿ≠   ÿßŸÑÿπÿ∂ŸàŸä ÿ∫Ÿäÿ± ÿßŸÑŸÖÿ®ÿ≥ÿ™ÿ±","3- ŸÑÿ™ÿ± ÿÆŸÑ ÿ±ŸÖÿßŸÜ   ","3- ŸÜÿµŸÅ ŸÑÿ™ÿ± ÿÆŸÑ ÿ±ŸÖÿßŸÜ   "],
            "8":["1- ŸÜÿµŸÅ ŸÑÿ™ÿ± ÿÆŸÑ ÿπŸÜÿ® ÿßÿ≠ŸÖÿ± ÿ®ŸÑÿ≥ŸÖŸÉ ÿßŸàÿ±ÿ¨ÿßŸÜŸÉ ÿπÿ∂ŸàŸä ÿ∫Ÿäÿ± ŸÖÿ®ÿ≥ÿ™ÿ±","2- ŸÜÿµŸÅ ŸÑÿ™ÿ± ÿÆŸÑ ÿßŸÑÿ™ŸÅÿßÿ≠ ÿßŸÑÿπÿ∂ŸàŸä   ÿ∫Ÿäÿ± ÿßŸÑŸÖÿ®ÿ≥ÿ™ÿ±"],
            "9":["1-ŸÉŸäŸÑŸà ÿÆŸÑÿ∑ÿ© Ÿáÿ±ŸÉŸÑŸäÿ≤ ÿÆŸÑÿ∑ÿ© ÿßŸÑÿ®ÿ¥Ÿàÿßÿ™ ÿ±ŸÇŸÖ1 ","1-ŸÜÿµŸÅ ŸÉŸäŸÑŸà ÿÆŸÑÿ∑ÿ© Ÿáÿ±ŸÉŸÑŸäÿ≤ ÿÆŸÑÿ∑ÿ© ÿßŸÑÿ®ÿ¥Ÿàÿßÿ™ ÿ±ŸÇŸÖ1 ","2-ŸÉŸäŸÑŸà ÿÆŸÑÿ∑ÿ© ŸÖŸäŸÜŸâ Ÿáÿ±ŸÉŸÑŸäÿ≤ ÿÆŸÑÿ∑ÿ© ÿßŸÑÿ®ÿ¥Ÿàÿßÿ™ ÿ±ŸÇŸÖ2 ","2-ŸÜÿµŸÅ ŸÉŸäŸÑŸà ÿÆŸÑÿ∑ÿ© ŸÖŸäŸÜŸâ Ÿáÿ±ŸÉŸÑŸäÿ≤ ÿÆŸÑÿ∑ÿ© ÿßŸÑÿ®ÿ¥Ÿàÿßÿ™ ÿ±ŸÇŸÖ2 ","3-ŸÉŸäŸÑŸà ÿÆŸÑÿ∑ÿ© ŸÖÿ™ÿ≤Ÿàÿ¨ŸäŸÜ ŸÖÿ±ŸÉÿ≤ÿ© ÿÆŸÑÿ∑Ÿá ÿßŸÑÿ®ÿßŸàÿ± ŸàÿßŸÑŸÖŸÜÿßÿπŸá ÿ≥ÿØÿ± ÿ≠ÿ∂ÿ±ŸÖŸâ ÿ±ŸÇŸÖ3","3-ŸÜÿµŸÅ ŸÉŸäŸÑŸà ÿÆŸÑÿ∑ÿ© ŸÖÿ™ÿ≤Ÿàÿ¨ŸäŸÜ ŸÖÿ±ŸÉÿ≤ÿ© ÿÆŸÑÿ∑Ÿá ÿßŸÑÿ®ÿßŸàÿ± ŸàÿßŸÑŸÖŸÜÿßÿπŸá ÿ≥ÿØÿ± ÿ≠ÿ∂ÿ±ŸÖŸâ ÿ±ŸÇŸÖ3","4-ŸÉŸäŸÑŸà ÿÆŸÑÿ∑ÿ© ÿßŸÑŸÖŸàÿ∏ŸÅŸäŸÜ ŸàÿßŸÑŸÉÿßÿØÿ≠ŸäŸÜ  ÿ≥ÿØÿ± ÿ≠ÿ∂ÿ±ŸÖŸâ ÿ±ŸÇŸÖ 4","4-ŸÜÿµŸÅ ŸÉŸäŸÑŸà ÿÆŸÑÿ∑ÿ© ÿßŸÑŸÖŸàÿ∏ŸÅŸäŸÜ ŸàÿßŸÑŸÉÿßÿØÿ≠ŸäŸÜ  ÿ≥ÿØÿ± ÿ≠ÿ∂ÿ±ŸÖŸâ ÿ±ŸÇŸÖ 4","5-ŸÉŸäŸÑŸà ÿÆŸÑÿ∑ÿ© ŸÖÿ™ÿ≤Ÿàÿ¨ŸäŸÜ ÿπÿßÿØŸâ ÿπÿ≥ŸÑ ÿ®ÿ±ÿ≥ŸäŸÖ ÿ±ŸÇŸÖ5","5-ŸÜÿµŸÅ ŸÉŸäŸÑŸà ÿÆŸÑÿ∑ÿ© ŸÖÿ™ÿ≤Ÿàÿ¨ŸäŸÜ ÿπÿßÿØŸâ ÿπÿ≥ŸÑ ÿ®ÿ±ÿ≥ŸäŸÖ ÿ±ŸÇŸÖ5","6-ŸÉŸäŸÑŸà ÿÆŸÑÿ∑ÿ© ŸÖÿ™ÿ≤Ÿàÿ¨ŸäŸÜ ŸÖÿ±ŸÉÿ≤ÿ© ÿπÿ≥ŸÑ ÿ®ÿ±ÿ≥ŸäŸÖ ÿ±ŸÇŸÖ6","6-ŸÜÿµŸÅ ŸÉŸäŸÑŸà ÿÆŸÑÿ∑ÿ© ŸÖÿ™ÿ≤Ÿàÿ¨ŸäŸÜ ŸÖÿ±ŸÉÿ≤ÿ© ÿπÿ≥ŸÑ ÿ®ÿ±ÿ≥ŸäŸÖ ÿ±ŸÇŸÖ6","7-ŸÉŸäŸÑŸà ÿÆŸÑÿ∑ÿ© ŸÖÿ™ÿ≤Ÿàÿ¨ŸäŸÜ ŸÖÿ±ŸÉÿ≤ÿ©ÿ¨ÿØÿß ÿπÿ≥ŸÑ ÿ®ÿ±ÿ≥ŸäŸÖ ÿ±ŸÇŸÖ7","7-ŸÜÿµŸÅ ŸÉŸäŸÑŸà ÿÆŸÑÿ∑ÿ© ŸÖÿ™ÿ≤Ÿàÿ¨ŸäŸÜ ŸÖÿ±ŸÉÿ≤ÿ©ÿ¨ÿØÿß ÿπÿ≥ŸÑ ÿ®ÿ±ÿ≥ŸäŸÖ ÿ±ŸÇŸÖ7","8-ŸÉŸäŸÑŸà ÿÆŸÑÿ∑ÿ© ŸÖŸÜÿßÿπÿ© ÿßŸÑÿßÿ∑ŸÅÿßŸÑ ÿ≠ÿ∂ÿ±ŸÖŸâ ŸÖŸÑŸÉŸâ ÿ±ŸÇŸÖ8","8-ŸÜÿµŸÅ ŸÉŸäŸÑŸà ÿÆŸÑÿ∑ÿ© ŸÖŸÜÿßÿπÿ© ÿßŸÑÿßÿ∑ŸÅÿßŸÑ ÿ≠ÿ∂ÿ±ŸÖŸâ ŸÖŸÑŸÉŸâ ÿ±ŸÇŸÖ8","9-ŸÉŸäŸÑŸà ÿÆŸÑÿ∑ÿ© ŸÖŸÜÿßÿπÿ© ÿßŸÑÿßÿ∑ŸÅÿßŸÑ ÿ®ÿ±ÿ≥ŸäŸÖ ÿµÿßŸäŸÖ ÿπÿßÿØŸâ ÿ±ŸÇŸÖ9","9-ŸÜÿµŸÅ ŸÉŸäŸÑŸà ÿÆŸÑÿ∑ÿ© ŸÖŸÜÿßÿπÿ© ÿßŸÑÿßÿ∑ŸÅÿßŸÑ ÿ®ÿ±ÿ≥ŸäŸÖ ÿµÿßŸäŸÖ ÿπÿßÿØŸâ ÿ±ŸÇŸÖ9","10-ŸÉŸäŸÑŸà ÿÆŸÑÿ∑ÿ© ŸÖŸÜÿßÿπÿ© ÿßŸÑÿßÿ∑ŸÅÿßŸÑ ÿ®ÿ±ÿ≥ŸäŸÖ ÿµÿßŸäŸÖ ŸÖÿ±ŸÉÿ≤ÿ© ÿ±ŸÇŸÖ10","10-ŸÜÿµŸÅ ŸÉŸäŸÑŸà ÿÆŸÑÿ∑ÿ© ŸÖŸÜÿßÿπÿ© ÿßŸÑÿßÿ∑ŸÅÿßŸÑ ÿ®ÿ±ÿ≥ŸäŸÖ ÿµÿßŸäŸÖ ŸÖÿ±ŸÉÿ≤ÿ© ÿ±ŸÇŸÖ10","11-ŸÉŸäŸÑŸà ÿÆŸÑÿ∑ÿ© ŸÖŸÜÿßÿπÿ© ÿßŸÑÿßÿ∑ŸÅÿßŸÑ ÿ®ÿ±ÿ≥ŸäŸÖ ÿµÿßŸäŸÖ ŸÖÿ±ŸÉÿ≤ÿ© ÿ¨ÿØÿß ÿ±ŸÇŸÖ11","11-ŸÜÿµŸÅ ŸÉŸäŸÑŸà ÿÆŸÑÿ∑ÿ© ŸÖŸÜÿßÿπÿ© ÿßŸÑÿßÿ∑ŸÅÿßŸÑ ÿ®ÿ±ÿ≥ŸäŸÖ ÿµÿßŸäŸÖ ŸÖÿ±ŸÉÿ≤ÿ© ÿ¨ÿØÿß ÿ±ŸÇŸÖ11"],
            "10":["1- ŸÉŸäŸÑŸà ÿπÿ±ÿ∂ ÿπÿ≥ŸÑ ÿ®ÿ±ÿ≥ŸäŸÖ ÿµÿ≠ÿ±ÿßŸàŸä ","1- ŸÉŸäŸÑŸà ÿπÿ±ÿ∂ ÿπÿ≥ŸÑ ÿßŸÑÿ¥ŸÖÿ± ÿßŸÑÿ¨ÿ®ŸÑŸâ ","3-  ŸÉŸäŸÑŸà ÿπÿ±ÿ∂ ÿπÿ≥ŸÑ ÿßÿπÿ¥ÿßÿ® ÿ∑ÿ®Ÿäÿ©","ŸÉŸäŸÑŸà ÿπÿ±ÿ∂ ÿØŸàÿπŸÜŸâ ŸÖŸÑŸÉŸâ ","ŸÉŸäŸÑŸà ÿπÿ±ÿ∂ ÿØŸàÿπŸÜŸâ ŸÖŸÑŸÉŸâ ŸÖÿØÿπŸÖ "],
            "11":["ŸÉŸäŸÑŸà ÿ¥ŸÖÿπ ÿ¥ŸÖÿ± ","ŸÜÿµŸÅ ŸÉŸäŸÑŸà ÿ¥ŸÖÿπ ŸÖŸàÿßŸÑÿ≠","1- ÿ¨ÿ±ÿßŸÖ ÿ≠ÿ®Ÿàÿ® ŸÑŸÇÿßÿ≠ ","2- ÿ¨ÿ±ÿßŸÖ ÿ®ÿ±Ÿàÿ®ŸÑŸäÿ≤ ","3- ÿ¨ÿ±ÿßŸÖ ÿ∫ÿ∞ÿßÿ° ŸÖŸÑŸÉÿßÿ™","3- ÿ¨ÿ±ÿßŸÖ ÿ∑ŸÑÿπ ŸÜÿÆŸÑ","    "]
        };
        const shippingCosts = {
            "ÿ¨ŸÖŸäÿπ ÿßŸÑŸÖÿ≠ÿßŸÅÿ∏ÿßÿ™": 90,"ÿßŸÑÿµÿπŸäÿØ ŸàÿßŸÑÿ®ÿ≠ÿ± ÿßŸÑÿßÿ≠ŸÖÿ± ŸàÿßŸÑÿ∫ÿ±ÿØŸÇÿ©": 120,"ÿ≥ŸàŸáÿßÿ¨ ÿßŸÑÿ¥ÿ≠ŸÜ 25 ÿßŸà 30": 30,"ÿ¥ÿ≠ŸÜ ŸÖÿ¨ÿßŸÜŸâ": 0
        };

        // ŸÉŸÑ ÿØŸàÿßŸÑ ÿßŸÑÿ¨ÿßŸÅÿßÿ≥ŸÉÿ±Ÿäÿ®ÿ™ ŸáŸÜÿß...
        // ÿ™ŸÖ ŸÖÿ±ÿßÿ¨ÿπÿ™Ÿáÿß ÿ®ÿßŸÑŸÉÿßŸÖŸÑ ŸÑÿ™ŸÉŸàŸÜ ŸÖÿ™ŸàÿßŸÅŸÇÿ© ŸÖÿπ ÿßŸÑÿ™ÿµŸÖŸäŸÖ ÿßŸÑÿ¨ÿØŸäÿØ
        function updateCalculatorCounter() {
            const count = document.querySelectorAll('.calculator-container').length;
            const counterDesktop = document.getElementById('calculator-counter');
            if (counterDesktop) counterDesktop.textContent = `ÿßŸÑÿπÿØÿØ: ${count}`;
        }

        function createCalculator(id) {
            const calculator = document.createElement('div');
            calculator.className = 'calculator-container';
            calculator.id = `calculator-${id}`;
            const now = new Date();
            const dateString = now.toLocaleDateString('ar-EG', { year: 'numeric', month: 'long', day: 'numeric' });
            calculator.innerHTML = `
                <div class="calculator-header">
                     <div class="calculator-title-display">
                        <span class="calculator-title">ÿ¢ŸÑÿ© ÿ≠ÿßÿ≥ÿ®ÿ© ${id + 1}</span>
                        <button class="edit-title-btn" onclick="enableTitleEdit(this, '${id}')">‚úèÔ∏è</button>
                    </div>
                     <button onclick="removeCalculator('${id}')" style="background-color:var(--accent-red); font-size: 0.9rem; padding: 5px 10px;">ÿ≠ÿ∞ŸÅ</button>
                </div>
                <input type="text" class="calculator-title-input" placeholder="ÿ£ÿØÿÆŸÑ ÿßÿ≥ŸÖÿßŸã ŸÑŸÑÿ¢ŸÑÿ© ÿßŸÑÿ≠ÿßÿ≥ÿ®ÿ©..." style="display: none;" onchange="updateCalculatorTitle(this, '${id}')" onblur="updateCalculatorTitle(this, '${id}')">
                <div class="calculator-date">ÿ™ÿßÿ±ŸäÿÆ ÿßŸÑÿ•ŸÜÿ¥ÿßÿ°: ${dateString}</div>
                <div id="items-container-${id}" style="margin-top: 20px;"></div>
                <button onclick="addItem('${id}')" style="background-color: var(--primary-color); margin-top:15px; width: 100%;">+ ÿ•ÿ∂ÿßŸÅÿ© ÿµŸÜŸÅ</button>
                <div class="totals-section">
                    <div class="total"><span>ÿßŸÑÿ•ÿ¨ŸÖÿßŸÑŸä:</span><span class="price" id="total-${id}">0 ÿ¨ŸÜŸäŸá</span></div>
                    <div class="shipping"><label for="governorate-${id}" style="flex-shrink:0; margin-left:10px;">ŸÖŸÜÿ∑ŸÇÿ© ÿßŸÑÿ¥ÿ≠ŸÜ:</label><select id="governorate-${id}" onchange="updateShipping('${id}')"><option value="">ÿßÿÆÿ™ÿ±</option><option value="ÿ¨ŸÖŸäÿπ ÿßŸÑŸÖÿ≠ÿßŸÅÿ∏ÿßÿ™">ÿ¨ŸÖŸäÿπ ÿßŸÑŸÖÿ≠ÿßŸÅÿ∏ÿßÿ™</option><option value="ÿßŸÑÿµÿπŸäÿØ ŸàÿßŸÑÿ®ÿ≠ÿ± ÿßŸÑÿßÿ≠ŸÖÿ± ŸàÿßŸÑÿ∫ÿ±ÿØŸÇÿ©">ÿµÿπŸäÿØ/ÿ®ÿ≠ÿ± ÿ£ÿ≠ŸÖÿ±</option><option value="ÿ≥ŸàŸáÿßÿ¨ ÿßŸÑÿ¥ÿ≠ŸÜ 25 ÿßŸà 30">ÿ≥ŸàŸáÿßÿ¨</option><option value="ÿ¥ÿ≠ŸÜ ŸÖÿ¨ÿßŸÜŸâ">ÿ¥ÿ≠ŸÜ ŸÖÿ¨ÿßŸÜŸä</option></select></div>
                    <div class="shipping"><span>ÿ≥ÿπÿ± ÿßŸÑÿ¥ÿ≠ŸÜ:</span><span class="shipping-cost" id="shipping-cost-${id}">0 ÿ¨ŸÜŸäŸá</span></div>
                    <div class="grand-total"><span>ÿßŸÑÿ•ÿ¨ŸÖÿßŸÑŸä ÿßŸÑŸÉŸÑŸä:</span><span class="grand-total-value" id="grand-total-${id}">0 ÿ¨ŸÜŸäŸá</span></div>
                </div>
                <button onclick="showCalculatedResults('${id}')" style="background-color:var(--accent-green); margin-top: 20px; width: 100%; padding: 12px; font-size: 1.1rem;">üßæ ÿπÿ±ÿ∂ ÿßŸÑŸÅÿßÿ™Ÿàÿ±ÿ©</button>
                <div id="results-container-${id}" style="display:none;"></div>`;
            return calculator;
        }

        function addItem(calculatorId) {
            const itemsContainer = document.getElementById(`items-container-${calculatorId}`);
            const newItem = document.createElement('div');
            newItem.className = 'item';
            newItem.innerHTML = `
                <select onchange="updateItems(this, '${calculatorId}')"><option value="">ÿßÿÆÿ™ÿ± ÿßŸÑŸÅÿ¶ÿ©</option><option value="1">ŸÉŸäŸÑŸà ÿπÿ≥ŸÑ</option><option value="2">ŸÜÿµŸÅ ŸÉŸäŸÑŸà ÿπÿ≥ŸÑ</option><option value="3">ŸÉŸäŸÑŸà ÿπÿ≥ŸÑ ÿ≥ÿØÿ±</option><option value="4">ŸÜÿµŸÅ ÿπÿ≥ŸÑ ÿ≥ÿØÿ±</option><option value="5">ŸÑÿ™ÿ± ÿ≤Ÿäÿ™</option><option value="6">ŸÜÿµŸÅ ŸÑÿ™ÿ± ÿ≤Ÿäÿ™</option><option value="7">ŸÑÿ™ÿ± ÿÆŸÑ</option><option value="8">ŸÜÿµŸÅ ŸÑÿ™ÿ± ÿÆŸÑ</option><option value="9">ÿÆŸÑÿ∑ÿßÿ™</option><option value="10">ÿπÿ±Ÿàÿ∂</option><option value="11">ÿßÿÆÿ±Ÿâ</option></select>
                <select onchange="updatePrice(this, '${calculatorId}')"><option value="">ÿßÿÆÿ™ÿ± ÿßŸÑÿµŸÜŸÅ</option></select>
                <div class="item-controls"><input type="number" value="1" min="1" onchange="updatePrice(this, '${calculatorId}')"><strong class="price">0 ÿ¨ŸÜŸäŸá</strong><button onclick="removeItem(this, '${calculatorId}')">ÿ•ÿ≤ÿßŸÑÿ©</button></div>`;
            itemsContainer.appendChild(newItem);
            const categorySelect = newItem.querySelector('select:nth-of-type(1)');
            categorySelect.value = '1';
            updateItems(categorySelect, calculatorId);
            saveCalculatorsState();
        }

        function updateItems(selectElement, calculatorId) {
            const itemDiv = selectElement.closest('.item');
            const itemSelect = itemDiv.querySelector('select:nth-of-type(2)');
            const category = selectElement.value;
            itemSelect.innerHTML = '<option value="">ÿßÿÆÿ™ÿ± ÿßŸÑÿµŸÜŸÅ</option>';
            if (category && categories[category]) {
                categories[category].forEach(item => {
                    const option = document.createElement('option');
                    option.value = item;
                    option.textContent = item;
                    itemSelect.appendChild(option);
                });
            }
            updatePrice(itemSelect, calculatorId);
        }

        function updatePrice(element, calculatorId) {
            const itemDiv = element.closest('.item');
            const itemSelect = itemDiv.querySelector('select:nth-of-type(2)');
            const quantityInput = itemDiv.querySelector('input[type="number"]');
            const priceSpan = itemDiv.querySelector('.price');
            const item = itemSelect.value;
            const quantity = parseInt(quantityInput.value) || 0;
            priceSpan.textContent = (item && quantity > 0 ? prices[item] * quantity : 0) + ' ÿ¨ŸÜŸäŸá';
            updateTotal(calculatorId);
        }
        
        function removeItem(button, calculatorId) {
            button.closest('.item').remove();
            updateTotal(calculatorId);
        }
        
        function updateTotal(calculatorId) {
            let total = 0;
            document.querySelectorAll(`#items-container-${calculatorId} .price`).forEach(span => {
                total += parseFloat(span.textContent) || 0;
            });
            document.getElementById(`total-${calculatorId}`).textContent = total + ' ÿ¨ŸÜŸäŸá';
            updateGrandTotal(calculatorId);
        }

        function updateShipping(calculatorId) {
            const governorate = document.getElementById(`governorate-${calculatorId}`).value;
            const shippingCost = governorate ? shippingCosts[governorate] : 0;
            document.getElementById(`shipping-cost-${calculatorId}`).textContent = shippingCost + ' ÿ¨ŸÜŸäŸá';
            updateGrandTotal(calculatorId);
        }

        function updateGrandTotal(calculatorId) {
            const total = parseFloat(document.getElementById(`total-${calculatorId}`).textContent) || 0;
            const shippingCost = parseFloat(document.getElementById(`shipping-cost-${calculatorId}`).textContent) || 0;
            document.getElementById(`grand-total-${calculatorId}`).textContent = (total + shippingCost) + ' ÿ¨ŸÜŸäŸá';
            saveCalculatorsState();
        }

        function toArabicNumerals(str) {
            return String(str).replace(/[0-9]/g, d => ({'0':'Ÿ†','1':'Ÿ°','2':'Ÿ¢','3':'Ÿ£','4':'Ÿ§','5':'Ÿ•','6':'Ÿ¶','7':'Ÿß','8':'Ÿ®','9':'Ÿ©'}[d]));
        }

        function searchCalculators(searchTerm) {
            const term = searchTerm.toLowerCase();
            document.querySelectorAll('.calculator-container').forEach(calc => {
                const title = calc.querySelector('.calculator-title').textContent.toLowerCase();
                calc.style.display = title.includes(term) ? 'block' : 'none';
            });
        }
        
        function showCalculatedResults(calculatorId) {
            const resultsContainer = document.getElementById(`results-container-${calculatorId}`);
            if (resultsContainer.style.display === 'block') { resultsContainer.style.display = 'none'; return; }
            resultsContainer.innerHTML = ''; 
            const items = document.querySelectorAll(`#items-container-${calculatorId} .item`);
            if (items.length === 0) { alert('ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿπŸÜÿßÿµÿ±.'); return; }
            let resultsText = "*ÿ™ŸÅÿßÿµŸäŸÑ ÿßŸÑÿ∑ŸÑÿ®:*\n" + "ÿßŸÑÿµŸÜŸÅ\t=\tÿßŸÑÿ≥ÿπÿ±\n" + "______________________________\n";
            let summaryList = [], itemLines = [], totalQuantity = 0;
            items.forEach((item, index) => {
                const itemName = item.querySelector('select:nth-of-type(2)').value;
                const quantity = parseInt(item.querySelector('input[type="number"]').value);
                const price = parseFloat(item.querySelector('.price').textContent);
                if (itemName && quantity > 0 && price >= 0) {
                    const cleanedItemName = itemName.replace(/^\d+\-\s*/g, '').trim();
                    totalQuantity += quantity;
                    itemLines.push(`${index + 1}- ${quantity > 1 ? `ÿπÿØÿØ ${toArabicNumerals(quantity)} ` : ''}${cleanedItemName}\t=\t${toArabicNumerals(price)}`);
                    summaryList.push(`-${index + 1}-(${quantity > 1 ? `ÿπÿØÿØ ${quantity} ` : ''}${cleanedItemName})`);
                }
            });
            if (itemLines.length === 0) { alert('ŸÑŸÖ Ÿäÿ™ŸÖ ÿ™ÿ≠ÿØŸäÿØ ÿ£ÿµŸÜÿßŸÅ ÿµÿßŸÑÿ≠ÿ©.'); return; }
            resultsText += itemLines.join('\n') + `\n______________________________\n*ÿπÿØÿØ ÿßŸÑŸÇÿ∑ÿπ*=\t${toArabicNumerals(totalQuantity)}\n______________________________\n`;
            const total = parseFloat(document.getElementById(`total-${calculatorId}`).textContent);
            const shippingSelect = document.getElementById(`governorate-${calculatorId}`);
            const shippingText = shippingSelect.options[shippingSelect.selectedIndex].text;
            const shippingCost = parseFloat(document.getElementById(`shipping-cost-${calculatorId}`).textContent);
            const grandTotal = parseFloat(document.getElementById(`grand-total-${calculatorId}`).textContent);
            resultsText += `*ÿßŸÑŸÖÿ¨ŸÖŸàÿπ*=\t${toArabicNumerals(total)}\n`;
            if (shippingSelect.value && shippingCost > 0) resultsText += `*ÿ™ŸÉŸÑŸÅÿ© ÿßŸÑÿ¥ÿ≠ŸÜ (${shippingText})* =\t${toArabicNumerals(shippingCost)}\n`;
            resultsText += `______________________________\n*ÿßŸÑŸÖÿ¨ŸÖŸàÿπ ÿßŸÑŸÉŸÑŸä*=\t${toArabicNumerals(grandTotal)}\n______________________________\n`;
            resultsText += `*ŸÖŸÜÿßÿ≠ŸÑ ÿßŸÑÿµÿπŸäÿØŸâ Ÿà*:${summaryList.join(' ')}`;
            const textNode = document.createElement('div');
            textNode.className = 'results-text-container';
            textNode.textContent = resultsText;
            const actionsDiv = document.createElement('div');
            actionsDiv.className = 'copy-actions';
            const copyBtn = document.createElement('button');
            copyBtn.textContent = 'üìã ŸÜÿ≥ÿÆ ÿßŸÑŸÜÿµ ŸÖÿ®ÿßÿ¥ÿ±ÿ©'; copyBtn.style.backgroundColor = 'var(--primary-color)';
            const selectBtn = document.createElement('button');
            selectBtn.textContent = '‚òùÔ∏è ÿ™ÿ≠ÿØŸäÿØ ÿßŸÑŸÜÿµ ŸÑŸÑŸÜÿ≥ÿÆ'; selectBtn.style.backgroundColor = 'var(--accent-green)';
            const instructionP = document.createElement('p');
            instructionP.className = 'copy-instruction'; instructionP.textContent = 'ÿ¨ÿ±Ÿëÿ® "ŸÜÿ≥ÿÆ ŸÖÿ®ÿßÿ¥ÿ±". ÿ•ÿ∞ÿß ŸÑŸÖ ŸäÿπŸÖŸÑÿå ÿßÿ≥ÿ™ÿÆÿØŸÖ ÿ≤ÿ± "ÿ™ÿ≠ÿØŸäÿØ ÿßŸÑŸÜÿµ".';
            copyBtn.onclick = () => {
                const textarea = document.createElement('textarea');
                textarea.value = resultsText;
                textarea.style.position = 'fixed'; textarea.style.left = '-9999px';
                document.body.appendChild(textarea);
                textarea.select();
                try {
                    if (document.execCommand('copy')) {
                        copyBtn.textContent = '‚úÖ ÿ™ŸÖ ÿßŸÑŸÜÿ≥ÿÆ!'; instructionP.textContent = 'ÿ™ŸÖ ÿßŸÑŸÜÿ≥ÿÆ ÿ•ŸÑŸâ ÿßŸÑÿ≠ÿßŸÅÿ∏ÿ©.';
                    } else { throw new Error(); }
                } catch (err) {
                    copyBtn.textContent = '‚ùå ŸÅÿ¥ŸÑ ÿßŸÑŸÜÿ≥ÿÆ'; instructionP.textContent = 'ŸÅÿ¥ŸÑ ÿßŸÑŸÜÿ≥ÿÆ ÿßŸÑŸÖÿ®ÿßÿ¥ÿ±. ÿßÿ≥ÿ™ÿÆÿØŸÖ ÿ≤ÿ± ÿßŸÑÿ™ÿ≠ÿØŸäÿØ.';
                }
                document.body.removeChild(textarea);
                setTimeout(() => { copyBtn.textContent = 'üìã ŸÜÿ≥ÿÆ ÿßŸÑŸÜÿµ ŸÖÿ®ÿßÿ¥ÿ±ÿ©'; }, 3000);
            };
            selectBtn.onclick = () => {
                const range = document.createRange();
                range.selectNodeContents(textNode);
                window.getSelection().removeAllRanges();
                window.getSelection().addRange(range);
                selectBtn.textContent = '‚úÖ ÿ™ŸÖ ÿßŸÑÿ™ÿ≠ÿØŸäÿØ!';
                instructionP.textContent = 'ÿßŸÑŸÜÿµ ŸÖÿ≠ÿØÿØ ÿßŸÑÿ¢ŸÜ. ÿßÿ≥ÿ™ÿÆÿØŸÖ ÿÆŸäÿßÿ± ÿßŸÑŸÜÿ≥ÿÆ ŸÖŸÜ Ÿáÿßÿ™ŸÅŸÉ.';
                setTimeout(() => { selectBtn.textContent = '‚òùÔ∏è ÿ™ÿ≠ÿØŸäÿØ ÿßŸÑŸÜÿµ ŸÑŸÑŸÜÿ≥ÿÆ'; }, 3000);
            };
            actionsDiv.appendChild(copyBtn);
            actionsDiv.appendChild(selectBtn);
            resultsContainer.appendChild(textNode);
            resultsContainer.appendChild(actionsDiv);
            resultsContainer.appendChild(instructionP);
            resultsContainer.style.display = 'block';
        }

        function getCalculatorsData() {
            const data = [];
            document.querySelectorAll('.calculator-container').forEach(calc => {
                const id = calc.id.split('-')[1];
                data.push({
                    id: id, title: calc.querySelector('.calculator-title').textContent, date: calc.querySelector('.calculator-date').textContent,
                    governorate: document.getElementById(`governorate-${id}`).value,
                    items: Array.from(document.querySelectorAll(`#items-container-${id} .item`)).map(item => ({
                        category: item.querySelector('select:nth-of-type(1)').value, item: item.querySelector('select:nth-of-type(2)').value, quantity: item.querySelector('input[type="number"]').value
                    }))
                });
            });
            return data;
        }

        function saveCalculatorsState() { localStorage.setItem('honeyCalculators', JSON.stringify(getCalculatorsData())); }

        function loadCalculatorsFromData(calculatorsData) {
            const container = document.getElementById('calculators-container');
            container.innerHTML = '';
            if (calculatorsData) {
                calculatorsData.forEach(data => {
                    const calculator = createCalculator(data.id);
                    container.appendChild(calculator);
                    calculator.querySelector('.calculator-title').textContent = data.title;
                    calculator.querySelector('.calculator-date').textContent = data.date;
                    const itemsContainer = document.getElementById(`items-container-${data.id}`);
                    itemsContainer.innerHTML = ''; 
                    (data.items || []).forEach(itemData => {
                        const newItem = document.createElement('div');
                        newItem.className = 'item';
                        newItem.innerHTML = `
                            <select onchange="updateItems(this, '${data.id}')"><option value="">ÿßÿÆÿ™ÿ± ÿßŸÑŸÅÿ¶ÿ©</option><option value="1">ŸÉŸäŸÑŸà ÿπÿ≥ŸÑ</option><option value="2">ŸÜÿµŸÅ ŸÉŸäŸÑŸà ÿπÿ≥ŸÑ</option><option value="3">ŸÉŸäŸÑŸà ÿπÿ≥ŸÑ ÿ≥ÿØÿ±</option><option value="4">ŸÜÿµŸÅ ÿπÿ≥ŸÑ ÿ≥ÿØÿ±</option><option value="5">ŸÑÿ™ÿ± ÿ≤Ÿäÿ™</option><option value="6">ŸÜÿµŸÅ ŸÑÿ™ÿ± ÿ≤Ÿäÿ™</option><option value="7">ŸÑÿ™ÿ± ÿÆŸÑ</option><option value="8">ŸÜÿµŸÅ ŸÑÿ™ÿ± ÿÆŸÑ</option><option value="9">ÿÆŸÑÿ∑ÿßÿ™</option><option value="10">ÿπÿ±Ÿàÿ∂</option><option value="11">ÿßÿÆÿ±Ÿâ</option></select>
                            <select onchange="updatePrice(this, '${data.id}')"><option value="">ÿßÿÆÿ™ÿ± ÿßŸÑÿµŸÜŸÅ</option></select>
                            <div class="item-controls"><input type="number" value="${itemData.quantity}" min="1" onchange="updatePrice(this, '${data.id}')"><strong class="price">0 ÿ¨ŸÜŸäŸá</strong><button onclick="removeItem(this, '${data.id}')">ÿ•ÿ≤ÿßŸÑÿ©</button></div>`;
                        itemsContainer.appendChild(newItem);
                        const catSelect = newItem.querySelector('select:nth-of-type(1)');
                        catSelect.value = itemData.category;
                        updateItems(catSelect, data.id);
                        newItem.querySelector('select:nth-of-type(2)').value = itemData.item;
                        updatePrice(newItem.querySelector('select:nth-of-type(2)'), data.id);
                    });
                    document.getElementById(`governorate-${data.id}`).value = data.governorate;
                    updateShipping(data.id);
                });
            }
            updateCalculatorCounter();
        }

        function exportCalculatorsAsJSON() {
            const data = getCalculatorsData();
            if (data.length === 0) { alert('ŸÑÿß ŸäŸàÿ¨ÿØ ÿ®ŸäÿßŸÜÿßÿ™ ŸÑŸÑÿ≠ŸÅÿ∏.'); return; }
            const a = document.createElement('a');
            a.href = URL.createObjectURL(new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' }));
            a.download = 'calculators_backup.json';
            a.click();
            URL.revokeObjectURL(a.href);
        }

        function importCalculatorsFromJSON(event) {
            const file = event.target.files[0];
            if (!file) return;
            if (!confirm('ÿ≥Ÿäÿ§ÿØŸä Ÿáÿ∞ÿß ŸÑÿßÿ≥ÿ™ÿ®ÿØÿßŸÑ ŸÉŸÑ ÿßŸÑÿ¢ŸÑÿßÿ™ ÿßŸÑÿ≠ÿßÿ≥ÿ®ÿ© ÿßŸÑÿ≠ÿßŸÑŸäÿ©. ŸáŸÑ ÿ£ŸÜÿ™ ŸÖÿ™ÿ£ŸÉÿØÿü')) { event.target.value = null; return; }
            const reader = new FileReader();
            reader.onload = e => {
                try {
                    const data = JSON.parse(e.target.result);
                    loadCalculatorsFromData(data);
                    saveCalculatorsState();
                } catch (error) { alert('ÿÆÿ∑ÿ£ ŸÅŸä ŸÇÿ±ÿßÿ°ÿ© ÿßŸÑŸÖŸÑŸÅ.'); console.error(error); }
            };
            reader.readAsText(file);
            event.target.value = null;
        }
        
        function addNewCalculator() {
            const id = Date.now().toString();
            document.getElementById('calculators-container').prepend(createCalculator(id));
            updateCalculatorCounter();
            saveCalculatorsState();
        }

        function enableTitleEdit(button, id) {
            const header = button.closest('.calculator-header');
            const titleDisplay = header.querySelector('.calculator-title-display');
            const titleInput = header.parentElement.querySelector('.calculator-title-input');
            const currentTitle = titleDisplay.querySelector('.calculator-title').textContent;
            if (!currentTitle.startsWith("ÿ¢ŸÑÿ© ÿ≠ÿßÿ≥ÿ®ÿ©")) titleInput.value = currentTitle;
            titleInput.style.display = 'block';
            titleDisplay.style.display = 'none';
            titleInput.focus();
        }

        function updateCalculatorTitle(input, id) {
            const header = input.parentElement.querySelector('.calculator-header');
            const titleDisplay = header.querySelector('.calculator-title-display');
            const titleSpan = titleDisplay.querySelector('.calculator-title');
            if (input.value.trim()) titleSpan.textContent = input.value.trim();
            input.style.display = 'none';
            titleDisplay.style.display = 'flex';
            saveCalculatorsState();
        }
        
        function removeCalculator(id) {
            if (confirm('ŸáŸÑ ÿ£ŸÜÿ™ ŸÖÿ™ÿ£ŸÉÿØ ŸÖŸÜ ÿ≠ÿ∞ŸÅ Ÿáÿ∞Ÿá ÿßŸÑÿ¢ŸÑÿ© ÿßŸÑÿ≠ÿßÿ≥ÿ®ÿ©ÿü')) {
                document.getElementById(`calculator-${id}`).remove();
                updateCalculatorCounter();
                saveCalculatorsState();
            }
        }

        window.addEventListener('load', () => {
            try {
                const savedData = JSON.parse(localStorage.getItem('honeyCalculators'));
                if (savedData && savedData.length > 0) {
                    loadCalculatorsFromData(savedData);
                } else {
                    addNewCalculator();
                }
            } catch (e) {
                console.error("Could not load from localStorage", e);
                addNewCalculator();
            }
        });
    </script>
    
    <!-- === ŸÉŸàÿØ ÿ™ÿ≥ÿ¨ŸäŸÑ ŸÖŸÑŸÅ ÿßŸÑÿÆÿØŸÖÿ© ŸÑŸÑÿπŸÖŸÑ ÿ£ŸàŸÅŸÑÿßŸäŸÜ === -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js').then(registration => {
                    console.log('ServiceWorker: Registration Successful');
                }).catch(err => {
                    console.log('ServiceWorker: Registration Failed: ', err);
                });
            });
        }
    </script>
</body>
</html>